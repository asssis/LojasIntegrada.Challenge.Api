{"ast":null,"code":"import _regeneratorRuntime from\"G:/Projetos/LojasIntegrada/src/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"G:/Projetos/LojasIntegrada/src/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"G:/Projetos/LojasIntegrada/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{PurchaseOrderService}from'../Services/PurchaseOrderServices';import swal from'sweetalert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PurchaseOrder=function PurchaseOrder(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mount=_useState2[0],setMount=_useState2[1];var _useState3=useState([{descricao:\"\",imagem:\"\",quantidade:\"\",valor:\"\",productId:\"\",productDto:{quantidade:\"\"}}]),_useState4=_slicedToArray(_useState3,2),listPurchaseOrder=_useState4[0],setListPurchaseOrder=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),totalCompra=_useState6[0],setTotalCompra=_useState6[1];function getCar(){return _getCar.apply(this,arguments);}function _getCar(){_getCar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var purchaseOrder;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return PurchaseOrderService.getPurchaseOrder();case 2:purchaseOrder=_context.sent;setListPurchaseOrder(purchaseOrder.itensPurchaseOrder);setTotalCompra(purchaseOrder.valorTotal);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getCar.apply(this,arguments);}function addItem(_x,_x2){return _addItem.apply(this,arguments);}function _addItem(){_addItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(productId,quantidade){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(quantidade<=\"0\")){_context2.next=3;break;}swal(\"Produto Indisponivel\",\"\",\"error\");return _context2.abrupt(\"return\");case 3:_context2.next=5;return PurchaseOrderService.addItem({Id:productId});case 5:_context2.next=7;return getCar();case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _addItem.apply(this,arguments);}function removeItem(_x3){return _removeItem.apply(this,arguments);}function _removeItem(){_removeItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(productId){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return PurchaseOrderService.removeItem({Id:productId});case 2:_context3.next=4;return getCar();case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _removeItem.apply(this,arguments);}function onLoad(){if(mount){return;}setMount(true);getCar();}useEffect(onLoad);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Shoppig Car\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Value\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[listPurchaseOrder.map(function(itensPurchase,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"col-md-3\",scope:\"row\",children:/*#__PURE__*/_jsx(\"img\",{width:50,src:itensPurchase.imagem})}),/*#__PURE__*/_jsx(\"td\",{className:\"col-md-3\",children:itensPurchase.descricao}),/*#__PURE__*/_jsx(\"td\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeItem(itensPurchase.productId);},className:\"btn btn-outline-secondary\",children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",height:\"37px\",className:\"form-control\",value:itensPurchase.quantidade}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addItem(itensPurchase.productId,itensPurchase.productDto.quantidade);},className:\"btn btn-outline-secondary\",children:\"+\"})]})})}),/*#__PURE__*/_jsx(\"td\",{className:\"col-md-3\",children:itensPurchase.valor})]});}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:totalCompra})]})]})]})]});};export default PurchaseOrder;","map":{"version":3,"names":["React","useEffect","useState","PurchaseOrderService","swal","PurchaseOrder","mount","setMount","descricao","imagem","quantidade","valor","productId","productDto","listPurchaseOrder","setListPurchaseOrder","totalCompra","setTotalCompra","getCar","getPurchaseOrder","purchaseOrder","itensPurchaseOrder","valorTotal","addItem","Id","removeItem","onLoad","map","itensPurchase","index"],"sources":["G:/Projetos/LojasIntegrada/src/frontend/src/View/PurchaseOrder.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { PurchaseOrderService } from '../Services/PurchaseOrderServices'\r\nimport swal from 'sweetalert';\r\n\r\n\r\nconst PurchaseOrder = () => {\r\n    const [mount, setMount] = useState(false);\r\n    const [listPurchaseOrder, setListPurchaseOrder] = useState([{ descricao: \"\", imagem: \"\", quantidade: \"\", valor: \"\", productId: \"\", productDto: { quantidade: \"\" } }]);\r\n    const [totalCompra, setTotalCompra] = useState(\"\");\r\n\r\n    async function getCar() {\r\n        var purchaseOrder = await PurchaseOrderService.getPurchaseOrder();\r\n        setListPurchaseOrder(purchaseOrder.itensPurchaseOrder);\r\n        setTotalCompra(purchaseOrder.valorTotal);\r\n    }\r\n\r\n    async function addItem(productId: string, quantidade: string) {\r\n        if (quantidade <= \"0\") {\r\n            swal(\"Produto Indisponivel\", \"\", \"error\");\r\n            return;\r\n        }\r\n\r\n        await PurchaseOrderService.addItem({ Id: productId });\r\n        await getCar();\r\n    }\r\n    async function removeItem(productId: string) {\r\n\r\n        await PurchaseOrderService.removeItem({ Id: productId });\r\n        await getCar();\r\n\r\n    }\r\n\r\n    function onLoad() {\r\n        if (mount) {\r\n            return;\r\n        }\r\n        setMount(true);\r\n        getCar();\r\n    }\r\n    useEffect(onLoad);\r\n\r\n    return (\r\n        <div>\r\n            <h1>My Shoppig Car</h1>\r\n            <br />\r\n            <br />\r\n            <br />\r\n\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Product</th>\r\n                        <th scope=\"col\">Description</th>\r\n                        <th scope=\"col\">Amount</th>\r\n                        <th scope=\"col\">Value</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        listPurchaseOrder.map(function (itensPurchase, index) {\r\n                            return (\r\n                                <tr>\r\n                                    <th className='col-md-3' scope=\"row\"><img width={50} src={itensPurchase.imagem}></img></th>\r\n                                    <td className='col-md-3'>{itensPurchase.descricao}</td>\r\n                                    <td className='col-md-3'>\r\n                                        <div className='row col-md-6'>\r\n                                            <div className=\"input-group\">\r\n                                                <button onClick={() => removeItem(itensPurchase.productId)} className=\"btn btn-outline-secondary\">-</button>\r\n                                                <input type=\"text\" height=\"37px\" className=\"form-control\" value={itensPurchase.quantidade} />\r\n                                                <button onClick={() => addItem(itensPurchase.productId, itensPurchase.productDto.quantidade)} className=\"btn btn-outline-secondary\">+</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className='col-md-3'>{itensPurchase.valor}</td>\r\n                                </tr>\r\n                            )\r\n                        })\r\n                    }\r\n                    <tr>\r\n                        <th scope=\"row\">Total</th>\r\n                        <th scope=\"col\"></th>\r\n                        <th scope=\"col\"></th>\r\n                        <th scope=\"col\">{totalCompra}</th>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PurchaseOrder;"],"mappings":"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"},"metadata":{},"sourceType":"module"}