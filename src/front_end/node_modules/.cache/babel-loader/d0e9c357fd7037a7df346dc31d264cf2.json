{"ast":null,"code":"import { LoginService } from '../Services/LoginServices';\nimport settings from \"../settings.json\";\nconst apiBaseUrl = settings.apiBaseUrl;\nexport const AuthenticationHelper = {\n  getAuthentication,\n  checkAuthentication,\n  doingLogout\n};\n\nasync function getAuthentication(username, password) {\n  const apiUrl = `${apiBaseUrl}/v1/Login`;\n  var credential = await LoginService.getLogin(username, password);\n\n  if (!credential) {\n    return null;\n  }\n\n  var jsonCredential = JSON.stringify(credential);\n  localStorage.setItem('ComprasJa:AccessToken', jsonCredential);\n  return checkAuthentication();\n}\n\nfunction checkAuthentication() {\n  var credential = localStorage.getItem('ComprasJa:AccessToken');\n\n  if (!credential) {\n    return null;\n  }\n\n  return JSON.parse(credential);\n}\n\nfunction doingLogout() {\n  localStorage.removeItem('ComprasJa:AccessToken');\n  window.location.replace('/Login');\n}","map":{"version":3,"names":["LoginService","settings","apiBaseUrl","AuthenticationHelper","getAuthentication","checkAuthentication","doingLogout","username","password","apiUrl","credential","getLogin","jsonCredential","JSON","stringify","localStorage","setItem","getItem","parse","removeItem","window","location","replace"],"sources":["G:/Projetos/LojasIntegrada/src/frontend/src/Helper/AuthenticationHelper.tsx"],"sourcesContent":["\r\nimport { LoginService } from '../Services/LoginServices';\r\nimport settings from \"../settings.json\";\r\n\r\nconst apiBaseUrl: string = settings.apiBaseUrl;\r\n\r\n\r\nexport const AuthenticationHelper = {\r\n    getAuthentication,\r\n    checkAuthentication,\r\n    doingLogout\r\n};\r\nasync function getAuthentication(username: string, password: string) {\r\n    const apiUrl = `${apiBaseUrl}/v1/Login`;\r\n\r\n    var credential = await LoginService.getLogin(username, password);\r\n    if (!credential) {\r\n        return null;\r\n    }\r\n    var jsonCredential = JSON.stringify(credential);\r\n    localStorage.setItem('ComprasJa:AccessToken', jsonCredential);\r\n    return checkAuthentication();\r\n}\r\nfunction checkAuthentication() {\r\n    var credential: any = localStorage.getItem('ComprasJa:AccessToken');\r\n    if (!credential) {\r\n        return null;\r\n    }\r\n    return JSON.parse(credential);\r\n}\r\nfunction doingLogout() {\r\n    localStorage.removeItem('ComprasJa:AccessToken');\r\n    window.location.replace('/Login');\r\n}"],"mappings":"AACA,SAASA,YAAT,QAA6B,2BAA7B;AACA,OAAOC,QAAP,MAAqB,kBAArB;AAEA,MAAMC,UAAkB,GAAGD,QAAQ,CAACC,UAApC;AAGA,OAAO,MAAMC,oBAAoB,GAAG;EAChCC,iBADgC;EAEhCC,mBAFgC;EAGhCC;AAHgC,CAA7B;;AAKP,eAAeF,iBAAf,CAAiCG,QAAjC,EAAmDC,QAAnD,EAAqE;EACjE,MAAMC,MAAM,GAAI,GAAEP,UAAW,WAA7B;EAEA,IAAIQ,UAAU,GAAG,MAAMV,YAAY,CAACW,QAAb,CAAsBJ,QAAtB,EAAgCC,QAAhC,CAAvB;;EACA,IAAI,CAACE,UAAL,EAAiB;IACb,OAAO,IAAP;EACH;;EACD,IAAIE,cAAc,GAAGC,IAAI,CAACC,SAAL,CAAeJ,UAAf,CAArB;EACAK,YAAY,CAACC,OAAb,CAAqB,uBAArB,EAA8CJ,cAA9C;EACA,OAAOP,mBAAmB,EAA1B;AACH;;AACD,SAASA,mBAAT,GAA+B;EAC3B,IAAIK,UAAe,GAAGK,YAAY,CAACE,OAAb,CAAqB,uBAArB,CAAtB;;EACA,IAAI,CAACP,UAAL,EAAiB;IACb,OAAO,IAAP;EACH;;EACD,OAAOG,IAAI,CAACK,KAAL,CAAWR,UAAX,CAAP;AACH;;AACD,SAASJ,WAAT,GAAuB;EACnBS,YAAY,CAACI,UAAb,CAAwB,uBAAxB;EACAC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB;AACH"},"metadata":{},"sourceType":"module"}