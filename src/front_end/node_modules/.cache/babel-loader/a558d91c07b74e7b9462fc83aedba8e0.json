{"ast":null,"code":"import _regeneratorRuntime from\"G:/Projetos/LojasIntegrada/src/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"G:/Projetos/LojasIntegrada/src/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"G:/Projetos/LojasIntegrada/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{PurchaseOrderService}from'../Services/PurchaseOrderServices';import{AuthenticationHelper}from'../Helper/AuthenticationHelper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var MenuTop=function MenuTop(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mount=_useState2[0],setMount=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalItens=_useState4[0],setTotalItens=_useState4[1];function getCar(){return _getCar.apply(this,arguments);}function _getCar(){_getCar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var purchaseOrder,totalItens;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return PurchaseOrderService.getPurchaseOrder();case 2:purchaseOrder=_context.sent;totalItens=purchaseOrder.itensPurchaseOrder.length;setTotalItens(totalItens);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getCar.apply(this,arguments);}function onLoad(){if(mount){return;}setMount(true);getCar();}useEffect(onLoad);var shopingCar=function shopingCar(){if(totalItens>0){return/*#__PURE__*/_jsxs(\"a\",{className:\"nav-link\",\"aria-current\":\"page\",href:\"/PurchaseOrder\",children:[\"Shopping Car \",/*#__PURE__*/_jsx(\"span\",{className:\"badge text-bg-danger ml-2\",children:totalItens})]});}else{return/*#__PURE__*/_jsx(_Fragment,{});}};var loginLogout=function loginLogout(){if(AuthenticationHelper.checkAuthentication()){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return AuthenticationHelper.doingLogout();},style:{cursor:'pointer'},className:\"nav-link\",children:\"Logout\"})});}else{return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/Login\",style:{cursor:'pointer'},className:\"nav-link\",children:\"Login\"})});}};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"#\",children:\"CompreJ\\xE1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarTogglerDemo02\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",\"aria-current\":\"page\",href:\"/\",children:\"Products\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:shopingCar()})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"nav navbar-nav navbar-right\",children:loginLogout()})]})]})});};","map":{"version":3,"names":["React","useEffect","useState","PurchaseOrderService","AuthenticationHelper","MenuTop","mount","setMount","totalItens","setTotalItens","getCar","getPurchaseOrder","purchaseOrder","itensPurchaseOrder","length","onLoad","shopingCar","loginLogout","checkAuthentication","doingLogout","cursor"],"sources":["G:/Projetos/LojasIntegrada/src/frontend/src/Component/MenuTop.tsx"],"sourcesContent":["\r\nimport React, { useEffect, useState } from 'react';\r\nimport { PurchaseOrderService } from '../Services/PurchaseOrderServices'\r\nimport { AuthenticationHelper } from '../Helper/AuthenticationHelper';\r\n\r\nexport const MenuTop = () => {\r\n    const [mount, setMount] = useState(false);\r\n    const [totalItens, setTotalItens] = useState(0);\r\n    async function getCar() {\r\n        var purchaseOrder = await PurchaseOrderService.getPurchaseOrder();\r\n        var totalItens = purchaseOrder.itensPurchaseOrder.length;\r\n\r\n        setTotalItens(totalItens);\r\n\r\n    }\r\n\r\n    function onLoad() {\r\n        if (mount) {\r\n            return;\r\n        }\r\n        setMount(true);\r\n        getCar();\r\n    }\r\n    useEffect(onLoad);\r\n    const shopingCar = () => {\r\n\r\n        if (totalItens > 0) {\r\n            return (<a className=\"nav-link\" aria-current=\"page\" href=\"/PurchaseOrder\">\r\n                Shopping Car <span className=\"badge text-bg-danger ml-2\">{totalItens}</span>\r\n            </a>)\r\n        }\r\n        else {\r\n            return (<></>)\r\n\r\n        }\r\n    }\r\n    const loginLogout = () => {\r\n        if (AuthenticationHelper.checkAuthentication()) {\r\n            return (\r\n                <li><a onClick={() => AuthenticationHelper.doingLogout()} style={{ cursor: 'pointer' }} className=\"nav-link\">Logout</a></li>\r\n            )\r\n        }\r\n        else {\r\n\r\n            return (\r\n                <li><a href=\"/Login\" style={{ cursor: 'pointer' }} className=\"nav-link\">Login</a></li>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n            <div className=\"container-fluid\">\r\n                <a className=\"navbar-brand\" href=\"#\">CompreJÃ¡</a>\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\r\n                    <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                        <li className=\"nav-item\">\r\n                            <a className=\"nav-link\" aria-current=\"page\" href=\"/\">Products</a>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            {shopingCar()}\r\n                        </li>\r\n                    </ul>\r\n                    <ul className=\"nav navbar-nav navbar-right\">\r\n                        {loginLogout()}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </nav >\r\n    )\r\n}"],"mappings":"uYACA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,oBAAT,KAAqC,mCAArC,CACA,OAASC,oBAAT,KAAqC,gCAArC,C,6IAEA,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACzB,cAA0BH,QAAQ,CAAC,KAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,eAAoCL,QAAQ,CAAC,CAAD,CAA5C,yCAAOM,UAAP,eAAmBC,aAAnB,eAFyB,QAGVC,OAHU,8HAGzB,wLAC8BP,qBAAoB,CAACQ,gBAArB,EAD9B,QACQC,aADR,eAEQJ,UAFR,CAEqBI,aAAa,CAACC,kBAAd,CAAiCC,MAFtD,CAIIL,aAAa,CAACD,UAAD,CAAb,CAJJ,sDAHyB,yCAWzB,QAASO,OAAT,EAAkB,CACd,GAAIT,KAAJ,CAAW,CACP,OACH,CACDC,QAAQ,CAAC,IAAD,CAAR,CACAG,MAAM,GACT,CACDT,SAAS,CAACc,MAAD,CAAT,CACA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CAErB,GAAIR,UAAU,CAAG,CAAjB,CAAoB,CAChB,mBAAQ,WAAG,SAAS,CAAC,UAAb,CAAwB,eAAa,MAArC,CAA4C,IAAI,CAAC,gBAAjD,wCACS,aAAM,SAAS,CAAC,2BAAhB,UAA6CA,UAA7C,EADT,GAAR,CAGH,CAJD,IAKK,CACD,mBAAQ,kBAAR,CAEH,CACJ,CAXD,CAYA,GAAMS,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtB,GAAIb,oBAAoB,CAACc,mBAArB,EAAJ,CAAgD,CAC5C,mBACI,iCAAI,UAAG,OAAO,CAAE,yBAAMd,qBAAoB,CAACe,WAArB,EAAN,EAAZ,CAAsD,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAV,CAA7D,CAAoF,SAAS,CAAC,UAA9F,oBAAJ,EADJ,CAGH,CAJD,IAKK,CAED,mBACI,iCAAI,UAAG,IAAI,CAAC,QAAR,CAAiB,KAAK,CAAE,CAAEA,MAAM,CAAE,SAAV,CAAxB,CAA+C,SAAS,CAAC,UAAzD,mBAAJ,EADJ,CAGH,CACJ,CAZD,CAeA,mBACI,YAAK,SAAS,CAAC,6CAAf,uBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,UAAG,SAAS,CAAC,cAAb,CAA4B,IAAI,CAAC,GAAjC,yBADJ,cAEI,aAAK,SAAS,CAAC,0BAAf,CAA0C,EAAE,CAAC,qBAA7C,wBACI,YAAI,SAAS,CAAC,iCAAd,wBACI,WAAI,SAAS,CAAC,UAAd,uBACI,UAAG,SAAS,CAAC,UAAb,CAAwB,eAAa,MAArC,CAA4C,IAAI,CAAC,GAAjD,sBADJ,EADJ,cAII,WAAI,SAAS,CAAC,UAAd,UACKJ,UAAU,EADf,EAJJ,GADJ,cASI,WAAI,SAAS,CAAC,6BAAd,UACKC,WAAW,EADhB,EATJ,GAFJ,GADJ,EADJ,CAoBH,CAlEM"},"metadata":{},"sourceType":"module"}